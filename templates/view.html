{% extends "base.html" %}

{% block content %}
    
<h2>MODEL: BEST.PT</h2>
<h3>ADD VIDEO FILE:</h3>

<form action="{{ url_for('upload_video') }}" method="POST" enctype="multipart/form-data" class="upload-form">
    <div class="file-uploader">
        <label for="video_file">
            UPLOAD FILE HERE (UP TO 200 MB)
        </label>

        <input 
            type="file" 
            name="video_file" 
            id="video_file" 
            accept="video/mp4,video/mov,video/avi"
            onchange="this.form.submit()">
    </div>
</form>

{% if video_path %}
<div class="video-controls">
    <p>File loaded. Ready to process.</p>
    <div class="button-group">
        <a href="{{ url_for('start_processing') }}" class="btn">Start Processing</a>
        <a href="{{ url_for('stop_processing') }}" class="btn">Stop Processing</a>
    </div>
</div>
{% endif %}

<div class="video-container">
    {% if processing %}
        <img src="{{ url_for('video_feed') }}" width="100%">
    {% else %}
        <div class="video-placeholder">
            <p>
                {% if video_path %}
                    Click 'Start Processing' to see the visualization.
                {% else %}
                    Upload a video file to begin.
                {% endif %}
            </p>
        </div>
    {% endif %}
</div>

{% endblock %}
