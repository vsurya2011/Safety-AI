<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YOLOv8 Dashboard</title>
    <!-- Load Space Grotesk font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Load our new stylesheet -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

    <!-- Animated Background Iframe -->
    <!-- It loads the background URL from the session cookie -->
    <iframe 
        class="background-iframe" 
        src="{{ url_for('static', filename=session.get('background', 'red.html')) }}"
        frameborder="0">
    </iframe>

    <!-- Main Content Wrapper -->
    <div class="main-content">

        <!-- Header and Navigation -->
        <header>
            <h1>DASHBOARD:</h1>
            <div class="divider"></div>
            <nav>
                <!-- 
                    We add the 'active' class if the link matches the
                    'current_page' variable passed from Flask
                -->
                <a 
                    href="{{ url_for('show_page', page_name='view') }}" 
                    class="nav-btn {{ 'active' if current_page == 'view' else '' }}">
                    VIEW
                </a>
                <a 
                    href="{{ url_for('show_page', page_name='statistics') }}" 
                    class="nav-btn {{ 'active' if current_page == 'statistics' else '' }}">
                    STATISTICS
                </a>
                <a 
                    href="{{ url_for('show_page', page_name='snapshots') }}" 
                    class="nav-btn {{ 'active' if current_page == 'snapshots' else '' }}">
                    RECENT SNAPSHOTS
                </a>
                <a 
                    href="{{ url_for('show_page', page_name='download') }}" 
                    class="nav-btn {{ 'active' if current_page == 'download' else '' }}">
                    DOWNLOAD VIOLATIONS.CSV
                </a>
            </nav>
        </header>

        <!-- Page-Specific Content Block -->
        <main>
            <!-- 
                This is where the content from view.html, statistics.html, etc.
                will be injected.
            -->
            {% block content %}{% endblock %}
        </main>

    </div>

</body>
</html>